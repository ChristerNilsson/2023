// Generated by CoffeeScript 2.5.1
var ALFABET, ALL, Button, N, ass, buffer, button, buttons, clickLetter, clickNew, clickSolve, clickUndo, clicks, create5040, data, evaluate, i, len, len1, m, o, prompts, range, ref, ref1, released, secret, setActiveButtons, showHelp, showSolution, showTable, skala, solution, x0, x1, xdraw, xoff, y0, y1,
  indexOf = [].indexOf;

N = 10;

ALFABET = 'ABCDEFGHIJ';

range = _.range;

ass = (a, b) => {
  if (a !== b) {
    return console.log('Assert failed', a, '!=', b);
  }
};

create5040 = function() {
  var i, j, k, l, len, len1, len2, len3, m, o, p, q, ref, ref1, ref2, ref3, res;
  res = [];
  ref = range(N);
  for (m = 0, len = ref.length; m < len; m++) {
    i = ref[m];
    ref1 = range(N);
    for (o = 0, len1 = ref1.length; o < len1; o++) {
      j = ref1[o];
      if (i === j) {
        continue;
      }
      ref2 = range(N);
      for (p = 0, len2 = ref2.length; p < len2; p++) {
        k = ref2[p];
        if (k === i || k === j) {
          continue;
        }
        ref3 = range(N);
        for (q = 0, len3 = ref3.length; q < len3; q++) {
          l = ref3[q];
          if (l === i || l === j || l === k) {
            continue;
          }
          res.push(ALFABET[i] + ALFABET[j] + ALFABET[k] + ALFABET[l]);
        }
      }
    }
  }
  return res;
};

evaluate = (guess, secret) => {
  var i, len, m, ref, ref1, res;
  res = [];
  ref = range(guess.length);
  for (m = 0, len = ref.length; m < len; m++) {
    i = ref[m];
    if (ref1 = guess[i], indexOf.call(secret, ref1) >= 0) {
      res.push(str(abs(i - secret.indexOf(guess[i]))));
    }
  }
  res = res.sort().join("");
  if (res === '') {
    return '----';
  } else {
    return res;
  }
};

ALL = create5040();

skala = 1;

xoff = 0;

data = null;

solution = [];

secret = '';

buffer = '';

showSolution = false;

window.preload = function() {
  return data = loadJSON("./data_5040.json");
};

window.setup = function() {
  var index, len, m, ref, res;
  createCanvas(windowWidth, windowHeight);
  skala = height / 100;
  textFont("Courier New");
  strokeWeight(0.5);
  data = data.data.split('*');
  res = {};
  ref = range(5040);
  for (m = 0, len = ref.length; m < len; m++) {
    index = ref[m];
    res[ALL[index]] = "ABCD" + data[index] + ALL[index];
  }
  data = res;
  clickNew();
  return xdraw(); //###
};

showHelp = function(x, y) {
  var i, len, m, ref, results, texts;
  textSize(4);
  texts = [];
  texts.push('Mastermind 5040');
  texts.push('  (10*9*8*7)');
  texts.push('Find the four');
  texts.push('  letter secret!');
  texts.push('');
  texts.push('A clue gives up');
  texts.push('  to 4 distances');
  texts.push('');
  texts.push('Max 5 guesses');
  texts.push('  necessary');
  texts.push('');
  texts.push('Example:');
  texts.push('  DHIJ (secret)');
  texts.push('  guess => clue');
  texts.push('  ABCD  => 3');
  texts.push('  AEFG  => ----');
  texts.push('  HABI  => 11');
  texts.push('  DHIJ  => 0000');
  ref = range(texts.length);
  results = [];
  for (m = 0, len = ref.length; m < len; m++) {
    i = ref[m];
    results.push(text(texts[i], x - 8, y + 5 * i));
  }
  return results;
};

showTable = function(table, x, y) { // table = 'ABCDEFGH'
  var answer, i, item, len, m, ref, results, t;
  textSize(6);
  ref = range(0, table.length, 4);
  results = [];
  for (m = 0, len = ref.length; m < len; m++) {
    i = ref[m];
    t = table.substring(i, i + 4);
    item = t;
    answer = evaluate(secret, t);
    if (answer === '0000') {
      showSolution = true;
    }
    if (t.length === 4) {
      item = t + ' ' + answer;
    }
    results.push(text(item, x - 8, y + 5 * (Math.floor(i / 4))));
  }
  return results;
};

xdraw = function() { //###
  var button, len, m;
  push(); //###
  background("lightgray");
  translate(xoff, 0);
  scale(skala);
  textAlign(CENTER, CENTER);
  for (m = 0, len = buttons.length; m < len; m++) {
    button = buttons[m];
    button.draw();
  }
  textAlign(LEFT, TOP);
  if (buffer.length === 0) {
    showHelp(x1, y0);
  } else {
    showTable(buffer, x1, y0);
  }
  if (showSolution) {
    showTable(solution, x1, y1);
  }
  return pop(); //###
};

setActiveButtons = () => {
  var antal, button, gray, i, len, m, n, ref, ref1;
  n = buffer.length;
  antal = n % 4;
  gray = buffer.substring(n - antal, n);
  ref = range(N);
  for (m = 0, len = ref.length; m < len; m++) {
    i = ref[m];
    button = buttons[i];
    button.active = (ref1 = button.prompt, indexOf.call(gray, ref1) < 0);
  }
  buttons[N + 0].active = true; //showSolution
  buttons[N + 1].active = n > 0;
  return buttons[N + 2].active = buffer.endsWith(secret);
};

Button = class Button {
  constructor(prompt, x2, y2, w, h, ts, click) {
    this.prompt = prompt;
    this.x = x2;
    this.y = y2;
    this.w = w;
    this.h = h;
    this.ts = ts;
    this.click = click;
    this.active = true;
  }

  draw() {
    push();
    textSize(this.ts);
    fill('gray');
    rect(this.x, this.y, this.w, this.h);
    fill(this.active ? 'yellow' : 'lightgray');
    text(this.prompt, this.x + this.w / 2, this.y + this.h * 0.5 + 0.5);
    return pop();
  }

  inside(mx, my) {
    return (this.x <= mx && mx <= this.x + this.w) && (this.y <= my && my <= this.y + this.h) && this.active;
  }

};

clickLetter = function(button) {
  if (!showSolution && buffer.length < 40) { // and button.active
    buffer += button.prompt;
    return setActiveButtons();
  }
};

clickNew = function() {
  buffer = '';
  secret = _.sample(ALL);
  solution = data[secret];
  showSolution = false;
  return setActiveButtons();
};

clickUndo = function() {
  if (buffer.length === 0) {
    return;
  }
  if (buffer.length === 1) {
    showSolution = false;
  }
  buffer = buffer.substring(0, buffer.length - 1);
  return setActiveButtons();
};

clickSolve = function() {
  if (buffer.length >= 20) {
    return showSolution = true;
  }
};

buttons = [];

x0 = 1; // %

x1 = 30;

y0 = 1;

y1 = 60;

ref = range(N);
for (m = 0, len = ref.length; m < len; m++) {
  i = ref[m];
  button = new Button(ALFABET[i], x0 + i % 2 * 10, y0 + Math.floor(i / 2) * 10, 10, 10, 10); //, () => clickLetter button
  button.click = () => {
    return clickLetter(button);
  };
  buttons.push(button);
}

ref1 = range(3);
for (o = 0, len1 = ref1.length; o < len1; o++) {
  i = ref1[o];
  prompts = 'new undo solve'.split(' ');
  clicks = [clickNew, clickUndo, clickSolve];
  button = new Button(prompts[i], x0 + Math.floor(i / 5) * 10, y1 + i % 5 * 10, 20, 10, 6, clicks[i]);
  button.active = false;
  buttons.push(button);
}

released = true;

window.mousePressed = function(event) {
  var len2, p;
  event.preventDefault();
  if (!released) {
    return;
  }
  released = false;
  for (p = 0, len2 = buttons.length; p < len2; p++) {
    button = buttons[p];
    if (button.inside(mouseX / skala, mouseY / skala)) {
      button.click();
    }
  }
  xdraw(); //###
  return false;
};

window.mouseReleased = function(event) {
  event.preventDefault();
  released = true;
  return false;
};

window.keyPressed = function() {
  var s;
  s = '' + key;
  s = s.toUpperCase();
  if (indexOf.call(ALFABET, s) >= 0 && buffer.length < 40) {
    buffer += s;
    setActiveButtons();
  }
  if (keyCode === BACKSPACE) {
    clickUndo();
  }
  return xdraw();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxXQUFBLEVBQUEsUUFBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsTUFBQSxFQUFBLFVBQUEsRUFBQSxJQUFBLEVBQUEsUUFBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLFFBQUEsRUFBQSxNQUFBLEVBQUEsZ0JBQUEsRUFBQSxRQUFBLEVBQUEsWUFBQSxFQUFBLFNBQUEsRUFBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQTtFQUFBOztBQUFBLENBQUEsR0FBSTs7QUFDSixPQUFBLEdBQVU7O0FBRVYsS0FBQSxHQUFRLENBQUMsQ0FBQzs7QUFDVixHQUFBLEdBQU0sQ0FBQyxDQUFELEVBQUcsQ0FBSCxDQUFBLEdBQUE7RUFBUyxJQUFHLENBQUEsS0FBRyxDQUFOO1dBQWEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxlQUFaLEVBQTRCLENBQTVCLEVBQThCLElBQTlCLEVBQW1DLENBQW5DLEVBQWI7O0FBQVQ7O0FBRU4sVUFBQSxHQUFhLFFBQUEsQ0FBQSxDQUFBO0FBQ2IsTUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLElB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OztJQUNDLElBQUcsTUFBTSxDQUFDLE1BQVAsQ0FBYyxNQUFBLEdBQU8sS0FBckIsRUFBMkIsTUFBQSxHQUFPLEtBQWxDLENBQUg7TUFBZ0QsTUFBTSxDQUFDLEtBQVAsQ0FBQSxFQUFoRDs7RUFERDtFQUVBLEtBQUEsQ0FBQSxFQUxEO1NBTUM7QUFQcUI7O0FBU3RCLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLFFBQUEsQ0FBQyxLQUFELENBQUE7RUFDdEIsS0FBSyxDQUFDLGNBQU4sQ0FBQTtFQUNBLFFBQUEsR0FBVztTQUNYO0FBSHNCOztBQUt2QixNQUFNLENBQUMsVUFBUCxHQUFvQixRQUFBLENBQUEsQ0FBQTtBQUNwQixNQUFBO0VBQUMsQ0FBQSxHQUFJLEVBQUEsR0FBSztFQUNULENBQUEsR0FBSSxDQUFDLENBQUMsV0FBRixDQUFBO0VBQ0osaUJBQVEsU0FBTCxPQUFBLElBQWlCLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLEVBQXBDO0lBQ0MsTUFBQSxJQUFVO0lBQ1YsZ0JBQUEsQ0FBQSxFQUZEOztFQUdBLElBQUcsT0FBQSxLQUFXLFNBQWQ7SUFDQyxTQUFBLENBQUEsRUFERDs7U0FFQSxLQUFBLENBQUE7QUFSbUIiLCJzb3VyY2VzQ29udGVudCI6WyJOID0gMTBcclxuQUxGQUJFVCA9ICdBQkNERUZHSElKJ1xyXG5cclxucmFuZ2UgPSBfLnJhbmdlXHJcbmFzcyA9IChhLGIpID0+IGlmIGEhPWIgdGhlbiBjb25zb2xlLmxvZyAnQXNzZXJ0IGZhaWxlZCcsYSwnIT0nLGJcclxuXHJcbmNyZWF0ZTUwNDAgPSAtPlxyXG5cdHJlcyA9IFtdXHJcblx0Zm9yIGkgaW4gcmFuZ2UgTlxyXG5cdFx0Zm9yIGogaW4gcmFuZ2UgTlxyXG5cdFx0XHRpZiBpID09IGogdGhlbiBjb250aW51ZVxyXG5cdFx0XHRmb3IgayBpbiByYW5nZSBOXHJcblx0XHRcdFx0aWYgayBpbiBbaSxqXSB0aGVuIGNvbnRpbnVlXHJcblx0XHRcdFx0Zm9yIGwgaW4gcmFuZ2UgTlxyXG5cdFx0XHRcdFx0aWYgbCBpbiBbaSxqLGtdIHRoZW4gY29udGludWVcclxuXHRcdFx0XHRcdHJlcy5wdXNoIEFMRkFCRVRbaV0gKyBBTEZBQkVUW2pdICsgQUxGQUJFVFtrXSArIEFMRkFCRVRbbF1cclxuXHRyZXNcclxuXHJcbmV2YWx1YXRlID0gKGd1ZXNzLHNlY3JldCkgPT5cclxuXHRyZXM9IFtdXHJcblx0Zm9yIGkgaW4gcmFuZ2UgZ3Vlc3MubGVuZ3RoXHJcblx0XHRpZiBndWVzc1tpXSBpbiBzZWNyZXRcclxuXHRcdFx0cmVzLnB1c2ggc3RyIGFicyBpIC0gc2VjcmV0LmluZGV4T2YgZ3Vlc3NbaV1cclxuXHRyZXMgPSByZXMuc29ydCgpLmpvaW4gXCJcIlxyXG5cdGlmIHJlcz09JycgdGhlbiAnLS0tLScgZWxzZSByZXNcclxuXHJcbkFMTCA9IGNyZWF0ZTUwNDAoKVxyXG5cclxuc2thbGEgPSAxXHJcbnhvZmYgPSAwXHJcbmRhdGEgPSBudWxsXHJcbnNvbHV0aW9uID0gW11cclxuc2VjcmV0ID0gJydcclxuYnVmZmVyID0gJydcclxuc2hvd1NvbHV0aW9uID0gZmFsc2VcclxuXHJcbndpbmRvdy5wcmVsb2FkID0gLT4gZGF0YSA9IGxvYWRKU09OIFwiLi9kYXRhXzUwNDAuanNvblwiXHJcblxyXG53aW5kb3cuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3dXaWR0aCwgd2luZG93SGVpZ2h0XHJcblx0c2thbGEgPSBoZWlnaHQvMTAwXHJcblx0dGV4dEZvbnQgXCJDb3VyaWVyIE5ld1wiXHJcblx0c3Ryb2tlV2VpZ2h0IDAuNVxyXG5cdGRhdGEgPSBkYXRhLmRhdGEuc3BsaXQgJyonXHJcblx0cmVzID0ge31cclxuXHRmb3IgaW5kZXggaW4gcmFuZ2UgNTA0MFxyXG5cdFx0cmVzW0FMTFtpbmRleF1dID0gXCJBQkNEXCIgKyBkYXRhW2luZGV4XSArIEFMTFtpbmRleF1cclxuXHRkYXRhID0gcmVzXHJcblx0Y2xpY2tOZXcoKVxyXG5cdHhkcmF3KCkgIyMjI1xyXG5cclxuc2hvd0hlbHAgPSAoeCx5KSAtPlxyXG5cdHRleHRTaXplIDRcclxuXHR0ZXh0cyA9IFtdXHJcblx0dGV4dHMucHVzaCAnTWFzdGVybWluZCA1MDQwJ1xyXG5cdHRleHRzLnB1c2ggJyAgKDEwKjkqOCo3KSdcclxuXHR0ZXh0cy5wdXNoICdGaW5kIHRoZSBmb3VyJ1xyXG5cdHRleHRzLnB1c2ggJyAgbGV0dGVyIHNlY3JldCEnXHJcblx0dGV4dHMucHVzaCAnJ1xyXG5cdHRleHRzLnB1c2ggJ0EgY2x1ZSBnaXZlcyB1cCdcclxuXHR0ZXh0cy5wdXNoICcgIHRvIDQgZGlzdGFuY2VzJ1xyXG5cdHRleHRzLnB1c2ggJydcclxuXHR0ZXh0cy5wdXNoICdNYXggNSBndWVzc2VzJ1xyXG5cdHRleHRzLnB1c2ggJyAgbmVjZXNzYXJ5J1xyXG5cdHRleHRzLnB1c2ggJydcclxuXHR0ZXh0cy5wdXNoICdFeGFtcGxlOidcclxuXHR0ZXh0cy5wdXNoICcgIERISUogKHNlY3JldCknXHJcblx0dGV4dHMucHVzaCAnICBndWVzcyA9PiBjbHVlJ1xyXG5cdHRleHRzLnB1c2ggJyAgQUJDRCAgPT4gMydcclxuXHR0ZXh0cy5wdXNoICcgIEFFRkcgID0+IC0tLS0nXHJcblx0dGV4dHMucHVzaCAnICBIQUJJICA9PiAxMSdcclxuXHR0ZXh0cy5wdXNoICcgIERISUogID0+IDAwMDAnXHJcblx0Zm9yIGkgaW4gcmFuZ2UgdGV4dHMubGVuZ3RoXHJcblx0XHR0ZXh0IHRleHRzW2ldLHgtOCx5KzUqaVxyXG5cclxuc2hvd1RhYmxlID0gKHRhYmxlLHgseSkgLT4gIyB0YWJsZSA9ICdBQkNERUZHSCdcclxuXHR0ZXh0U2l6ZSA2XHJcblx0Zm9yIGkgaW4gcmFuZ2UgMCx0YWJsZS5sZW5ndGgsNFxyXG5cdFx0dCA9IHRhYmxlLnN1YnN0cmluZyBpLGkrNFxyXG5cdFx0aXRlbSA9IHRcclxuXHRcdGFuc3dlciA9IGV2YWx1YXRlIHNlY3JldCx0XHJcblx0XHRpZiBhbnN3ZXIgPT0gJzAwMDAnIHRoZW4gc2hvd1NvbHV0aW9uID0gdHJ1ZVxyXG5cdFx0aWYgdC5sZW5ndGg9PTQgdGhlbiBpdGVtID0gdCArICcgJyArIGFuc3dlclxyXG5cdFx0dGV4dCBpdGVtLCB4LTgseSs1KihpLy80KVxyXG5cclxueGRyYXcgPSAtPiAjIyMjXHJcblx0cHVzaCgpICMjIyNcclxuXHRiYWNrZ3JvdW5kIFwibGlnaHRncmF5XCJcclxuXHR0cmFuc2xhdGUgeG9mZiwwXHJcblx0c2NhbGUgc2thbGFcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdGZvciBidXR0b24gaW4gYnV0dG9uc1xyXG5cdFx0YnV0dG9uLmRyYXcoKVxyXG5cdHRleHRBbGlnbiBMRUZULFRPUFxyXG5cdGlmIGJ1ZmZlci5sZW5ndGggPT0gMCB0aGVuIHNob3dIZWxwIHgxLHkwIGVsc2Ugc2hvd1RhYmxlIGJ1ZmZlcix4MSx5MFxyXG5cdGlmIHNob3dTb2x1dGlvbiB0aGVuIHNob3dUYWJsZSBzb2x1dGlvbix4MSx5MVxyXG5cdHBvcCgpICMjIyNcclxuXHJcbnNldEFjdGl2ZUJ1dHRvbnMgPSAoKSA9PlxyXG5cdG4gPSBidWZmZXIubGVuZ3RoXHJcblx0YW50YWwgPSBuJTRcclxuXHRncmF5ID0gYnVmZmVyLnN1YnN0cmluZyBuLWFudGFsLG5cclxuXHRmb3IgaSBpbiByYW5nZSBOXHJcblx0XHRidXR0b24gPSBidXR0b25zW2ldXHJcblx0XHRidXR0b24uYWN0aXZlID0gYnV0dG9uLnByb21wdCBub3QgaW4gZ3JheVxyXG5cdGJ1dHRvbnNbTiswXS5hY3RpdmUgPSB0cnVlICNzaG93U29sdXRpb25cclxuXHRidXR0b25zW04rMV0uYWN0aXZlID0gbiA+IDBcclxuXHRidXR0b25zW04rMl0uYWN0aXZlID0gYnVmZmVyLmVuZHNXaXRoIHNlY3JldFxyXG5cclxuY2xhc3MgQnV0dG9uXHJcblx0Y29uc3RydWN0b3IgOiAoQHByb21wdCxAeCxAeSxAdyxAaCxAdHMsQGNsaWNrKSAtPiBAYWN0aXZlID0gdHJ1ZVxyXG5cdGRyYXcgOiAtPlxyXG5cdFx0cHVzaCgpXHJcblx0XHR0ZXh0U2l6ZSBAdHNcclxuXHRcdGZpbGwgJ2dyYXknXHJcblx0XHRyZWN0IEB4LEB5LEB3LEBoXHJcblx0XHRmaWxsIGlmIEBhY3RpdmUgdGhlbiAneWVsbG93JyBlbHNlICdsaWdodGdyYXknXHJcblx0XHR0ZXh0IEBwcm9tcHQsQHgrQHcvMiwgQHkrQGgqMC41KzAuNVxyXG5cdFx0cG9wKClcclxuXHRpbnNpZGUgOiAobXgsbXkpIC0+IEB4IDw9IG14IDw9IEB4K0B3IGFuZCBAeSA8PSBteSA8PSBAeStAaCBhbmQgQGFjdGl2ZVxyXG5cclxuY2xpY2tMZXR0ZXIgPSAoYnV0dG9uKSAtPiBcclxuXHRpZiBub3Qgc2hvd1NvbHV0aW9uIGFuZCBidWZmZXIubGVuZ3RoIDwgNDAgIyBhbmQgYnV0dG9uLmFjdGl2ZVxyXG5cdFx0YnVmZmVyICs9IGJ1dHRvbi5wcm9tcHRcclxuXHRcdHNldEFjdGl2ZUJ1dHRvbnMoKVxyXG5cclxuY2xpY2tOZXcgPSAtPlxyXG5cdGJ1ZmZlciA9ICcnXHJcblx0c2VjcmV0ID0gXy5zYW1wbGUgQUxMXHJcblx0c29sdXRpb24gPSBkYXRhW3NlY3JldF1cclxuXHRzaG93U29sdXRpb24gPSBmYWxzZVxyXG5cdHNldEFjdGl2ZUJ1dHRvbnMoKVxyXG5cclxuY2xpY2tVbmRvID0gLT5cclxuXHRpZiBidWZmZXIubGVuZ3RoID09IDAgdGhlbiByZXR1cm5cclxuXHRpZiBidWZmZXIubGVuZ3RoID09IDEgdGhlbiBzaG93U29sdXRpb24gPSBmYWxzZVxyXG5cdGJ1ZmZlciA9IGJ1ZmZlci5zdWJzdHJpbmcgMCxidWZmZXIubGVuZ3RoIC0gMVxyXG5cdHNldEFjdGl2ZUJ1dHRvbnMoKVxyXG5cclxuY2xpY2tTb2x2ZSA9IC0+IGlmIGJ1ZmZlci5sZW5ndGggPj0gMjAgdGhlblx0c2hvd1NvbHV0aW9uID0gdHJ1ZVxyXG5cclxuYnV0dG9ucyA9IFtdXHJcbngwID0gMSAjICVcclxueDEgPSAzMFxyXG55MCA9IDFcclxueTEgPSA2MFxyXG5mb3IgaSBpbiByYW5nZSBOXHJcblx0YnV0dG9uID0gbmV3IEJ1dHRvbiBBTEZBQkVUW2ldLCB4MCtpJTIqMTAsIHkwK2kvLzIqMTAsMTAsMTAsMTAgIywgKCkgPT4gY2xpY2tMZXR0ZXIgYnV0dG9uXHJcblx0YnV0dG9uLmNsaWNrID0gPT4gY2xpY2tMZXR0ZXIgYnV0dG9uXHJcblx0YnV0dG9ucy5wdXNoIGJ1dHRvblxyXG5cclxuZm9yIGkgaW4gcmFuZ2UgM1xyXG5cdHByb21wdHMgPSAnbmV3IHVuZG8gc29sdmUnLnNwbGl0ICcgJ1xyXG5cdGNsaWNrcyA9IFtjbGlja05ldyxjbGlja1VuZG8sY2xpY2tTb2x2ZV1cclxuXHRidXR0b24gPSBuZXcgQnV0dG9uIHByb21wdHNbaV0sIHgwK2kvLzUqMTAsIHkxK2klNSoxMCwyMCwxMCw2LCBjbGlja3NbaV1cclxuXHRidXR0b24uYWN0aXZlID0gZmFsc2VcclxuXHRidXR0b25zLnB1c2ggYnV0dG9uXHJcblxyXG5yZWxlYXNlZCA9IHRydWVcclxuXHJcbndpbmRvdy5tb3VzZVByZXNzZWQgPSAoZXZlbnQpIC0+XHJcblx0ZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG5cdGlmIG5vdCByZWxlYXNlZCB0aGVuIHJldHVyblxyXG5cdHJlbGVhc2VkID0gZmFsc2VcclxuXHRmb3IgYnV0dG9uIGluIGJ1dHRvbnNcclxuXHRcdGlmIGJ1dHRvbi5pbnNpZGUgbW91c2VYL3NrYWxhLG1vdXNlWS9za2FsYSB0aGVuIGJ1dHRvbi5jbGljaygpXHJcblx0eGRyYXcoKSAjIyMjXHJcblx0ZmFsc2VcclxuXHJcbndpbmRvdy5tb3VzZVJlbGVhc2VkID0gKGV2ZW50KSAtPlxyXG5cdGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuXHRyZWxlYXNlZCA9IHRydWVcclxuXHRmYWxzZVxyXG5cclxud2luZG93LmtleVByZXNzZWQgPSAoKSAtPlxyXG5cdHMgPSAnJyArIGtleVxyXG5cdHMgPSBzLnRvVXBwZXJDYXNlKClcclxuXHRpZiBzIGluIEFMRkFCRVQgYW5kIGJ1ZmZlci5sZW5ndGggPCA0MFxyXG5cdFx0YnVmZmVyICs9IHNcclxuXHRcdHNldEFjdGl2ZUJ1dHRvbnMoKVxyXG5cdGlmIGtleUNvZGUgPT0gQkFDS1NQQUNFXHJcblx0XHRjbGlja1VuZG8oKVxyXG5cdHhkcmF3KClcclxuIl19
//# sourceURL=c:\github\knuth-mastermind\coffee\sketch.coffee