// Generated by CoffeeScript 2.5.1
// import _ from 'https://cdn.skypack.dev/lodash'
var stockfish, uint8, wasmSupported;

import {
  log,
  range,
  r4r
} from '../js/utils.js';

// import {spaceShip} from '../js/utils.js'

// import {Stockfish} from '../node_modules/stockfish/src/stockfish.js'
uint8 = new Uint8Array(8);

uint8[0] = 0;

uint8[1] = 6 * 16 + 1;

uint8[2] = 7 * 16 + 3;

uint8[3] = 6 * 16 + 13;

uint8[4] = 1;

uint8[5] = 0;

uint8[6] = 0;

uint8[7] = 0;

// wasmSupported = typeof WebAssembly == 'object' && WebAssembly.validate(Uint8Array.of(0x0, 0x61, 0x73, 0x6d, 0x01, 0, 0, 0));
wasmSupported = typeof WebAssembly === 'object' && WebAssembly.validate(uint8);

log(wasmSupported);

stockfish = new Worker(wasmSupported != null ? wasmSupported : {
  'stockfish.wasm.js': 'stockfish.js'
});

stockfish.addEventListener('message', (e) => {
  return console.log('listener', e);
});

stockfish.postMessage('uci');

log('stockfish', stockfish);

// import { Chess } from '../js/chess.js'

// while !chess.isGameOver()
// 	moves = chess.moves()
// 	move = moves[Math.floor(Math.random() * moves.length)]
// 	chess.move move
// 	logg chess.ascii()
// 	# r4r =>
// 	# 	chess.ascii()

// chess = null
// buffer = ''
// app = document.getElementById "app"

// show = =>
// 	s = chess.ascii()
// 	s = s.replaceAll "\n", '<br>'
// 	s= s.replaceAll " ", '&nbsp;'
// 	app.innerHTML = s

// putPiece = (piece, color) ->
// 	if piece.length == 3
// 		chess.put { type: piece[0].toLowerCase(), color }, piece[1..2]
// 	else
// 		chess.put { type: 'p', color }, piece[0..1]

// put = (w,b) ->
// 	chess.clear()
// 	for piece in w.split ' '
// 		putPiece piece, 'w'
// 	for piece in b.split ' '
// 		putPiece piece, 'b'

// window.setup = =>
// 	chess = new Chess()
// 	put "Kc3 Rd4","Ke5"
// 	app.style.fontFamily = "monospace"
// 	show()

// window.keyPressed = (e) ->
// 	buffer += e.key
// 	if buffer.length == 4
// 		try
// 			chess.move buffer
// 			show()
// 			logg buffer, 'ok'
// 		catch
// 			logg buffer,'invalid'
// 		buffer = ''

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFnRDtBQUFBLElBQUEsU0FBQSxFQUFBLEtBQUEsRUFBQTs7QUFDaEQsT0FBQTtFQUFRLEdBQVI7RUFBWSxLQUFaO0VBQWtCLEdBQWxCO0NBQUEsTUFBQSxpQkFEZ0Q7Ozs7O0FBTWhELEtBQUEsR0FBUSxJQUFJLFVBQUosQ0FBZSxDQUFmOztBQUNSLEtBQUssQ0FBQyxDQUFELENBQUwsR0FBVzs7QUFDWCxLQUFLLENBQUMsQ0FBRCxDQUFMLEdBQVcsQ0FBQSxHQUFFLEVBQUYsR0FBSzs7QUFDaEIsS0FBSyxDQUFDLENBQUQsQ0FBTCxHQUFXLENBQUEsR0FBRSxFQUFGLEdBQUs7O0FBQ2hCLEtBQUssQ0FBQyxDQUFELENBQUwsR0FBVyxDQUFBLEdBQUUsRUFBRixHQUFLOztBQUNoQixLQUFLLENBQUMsQ0FBRCxDQUFMLEdBQVc7O0FBQ1gsS0FBSyxDQUFDLENBQUQsQ0FBTCxHQUFXOztBQUNYLEtBQUssQ0FBQyxDQUFELENBQUwsR0FBVzs7QUFDWCxLQUFLLENBQUMsQ0FBRCxDQUFMLEdBQVcsRUFkcUM7OztBQWtCaEQsYUFBQSxHQUFnQixPQUFPLFdBQVAsS0FBc0IsUUFBdEIsSUFBa0MsV0FBVyxDQUFDLFFBQVosQ0FBcUIsS0FBckI7O0FBQ2xELEdBQUEsQ0FBSSxhQUFKOztBQUVBLFNBQUEsR0FBWSxJQUFJLE1BQUoseUJBQVcsZ0JBQWdCO0VBQUEsbUJBQUEsRUFBc0I7QUFBdEIsQ0FBM0I7O0FBRVosU0FBUyxDQUFDLGdCQUFWLENBQTJCLFNBQTNCLEVBQXNDLENBQUMsQ0FBRCxDQUFBLEdBQUE7U0FDcEMsT0FBTyxDQUFDLEdBQVIsQ0FBWSxVQUFaLEVBQXVCLENBQXZCO0FBRG9DLENBQXRDOztBQUlBLFNBQVMsQ0FBQyxXQUFWLENBQXNCLEtBQXRCOztBQUtBLEdBQUEsQ0FBSSxXQUFKLEVBQWdCLFNBQWhCOztBQWhDZ0QiLCJzb3VyY2VzQ29udGVudCI6WyIjIGltcG9ydCBfIGZyb20gJ2h0dHBzOi8vY2RuLnNreXBhY2suZGV2L2xvZGFzaCdcclxuaW1wb3J0IHtsb2cscmFuZ2UscjRyfSBmcm9tICcuLi9qcy91dGlscy5qcydcclxuIyBpbXBvcnQge3NwYWNlU2hpcH0gZnJvbSAnLi4vanMvdXRpbHMuanMnXHJcblxyXG4jIGltcG9ydCB7U3RvY2tmaXNofSBmcm9tICcuLi9ub2RlX21vZHVsZXMvc3RvY2tmaXNoL3NyYy9zdG9ja2Zpc2guanMnXHJcblxyXG51aW50OCA9IG5ldyBVaW50OEFycmF5IDhcclxudWludDhbMF0gPSAwXHJcbnVpbnQ4WzFdID0gNioxNisxXHJcbnVpbnQ4WzJdID0gNyoxNiszXHJcbnVpbnQ4WzNdID0gNioxNisxM1xyXG51aW50OFs0XSA9IDFcclxudWludDhbNV0gPSAwXHJcbnVpbnQ4WzZdID0gMFxyXG51aW50OFs3XSA9IDBcclxuXHJcblxyXG4jIHdhc21TdXBwb3J0ZWQgPSB0eXBlb2YgV2ViQXNzZW1ibHkgPT0gJ29iamVjdCcgJiYgV2ViQXNzZW1ibHkudmFsaWRhdGUoVWludDhBcnJheS5vZigweDAsIDB4NjEsIDB4NzMsIDB4NmQsIDB4MDEsIDAsIDAsIDApKTtcclxud2FzbVN1cHBvcnRlZCA9IHR5cGVvZiBXZWJBc3NlbWJseSA9PSAnb2JqZWN0JyAmJiBXZWJBc3NlbWJseS52YWxpZGF0ZSh1aW50OCk7XHJcbmxvZyB3YXNtU3VwcG9ydGVkXHJcblxyXG5zdG9ja2Zpc2ggPSBuZXcgV29ya2VyKHdhc21TdXBwb3J0ZWQgPyAnc3RvY2tmaXNoLndhc20uanMnIDogJ3N0b2NrZmlzaC5qcycpO1xyXG4gXHJcbnN0b2NrZmlzaC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGUpID0+XHJcbiAgY29uc29sZS5sb2coJ2xpc3RlbmVyJyxlKTtcclxuKTtcclxuIFxyXG5zdG9ja2Zpc2gucG9zdE1lc3NhZ2UoJ3VjaScpO1xyXG5cclxuXHJcbiMgc3RvY2tmaXNoID0gU3RvY2tmaXNoKClcclxuXHJcbmxvZyAnc3RvY2tmaXNoJyxzdG9ja2Zpc2hcclxuXHJcbiMgaW1wb3J0IHsgQ2hlc3MgfSBmcm9tICcuLi9qcy9jaGVzcy5qcydcclxuXHJcbiMgd2hpbGUgIWNoZXNzLmlzR2FtZU92ZXIoKVxyXG4jIFx0bW92ZXMgPSBjaGVzcy5tb3ZlcygpXHJcbiMgXHRtb3ZlID0gbW92ZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbW92ZXMubGVuZ3RoKV1cclxuIyBcdGNoZXNzLm1vdmUgbW92ZVxyXG4jIFx0bG9nZyBjaGVzcy5hc2NpaSgpXHJcbiMgXHQjIHI0ciA9PlxyXG4jIFx0IyBcdGNoZXNzLmFzY2lpKClcclxuXHJcbiMgY2hlc3MgPSBudWxsXHJcbiMgYnVmZmVyID0gJydcclxuIyBhcHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcImFwcFwiXHJcblxyXG4jIHNob3cgPSA9PlxyXG4jIFx0cyA9IGNoZXNzLmFzY2lpKClcclxuIyBcdHMgPSBzLnJlcGxhY2VBbGwgXCJcXG5cIiwgJzxicj4nXHJcbiMgXHRzPSBzLnJlcGxhY2VBbGwgXCIgXCIsICcmbmJzcDsnXHJcbiMgXHRhcHAuaW5uZXJIVE1MID0gc1xyXG5cclxuIyBwdXRQaWVjZSA9IChwaWVjZSwgY29sb3IpIC0+XHJcbiMgXHRpZiBwaWVjZS5sZW5ndGggPT0gM1xyXG4jIFx0XHRjaGVzcy5wdXQgeyB0eXBlOiBwaWVjZVswXS50b0xvd2VyQ2FzZSgpLCBjb2xvciB9LCBwaWVjZVsxLi4yXVxyXG4jIFx0ZWxzZVxyXG4jIFx0XHRjaGVzcy5wdXQgeyB0eXBlOiAncCcsIGNvbG9yIH0sIHBpZWNlWzAuLjFdXHJcblxyXG4jIHB1dCA9ICh3LGIpIC0+XHJcbiMgXHRjaGVzcy5jbGVhcigpXHJcbiMgXHRmb3IgcGllY2UgaW4gdy5zcGxpdCAnICdcclxuIyBcdFx0cHV0UGllY2UgcGllY2UsICd3J1xyXG4jIFx0Zm9yIHBpZWNlIGluIGIuc3BsaXQgJyAnXHJcbiMgXHRcdHB1dFBpZWNlIHBpZWNlLCAnYidcclxuXHJcbiMgd2luZG93LnNldHVwID0gPT5cclxuIyBcdGNoZXNzID0gbmV3IENoZXNzKClcclxuIyBcdHB1dCBcIktjMyBSZDRcIixcIktlNVwiXHJcbiMgXHRhcHAuc3R5bGUuZm9udEZhbWlseSA9IFwibW9ub3NwYWNlXCJcclxuIyBcdHNob3coKVxyXG5cclxuIyB3aW5kb3cua2V5UHJlc3NlZCA9IChlKSAtPlxyXG4jIFx0YnVmZmVyICs9IGUua2V5XHJcbiMgXHRpZiBidWZmZXIubGVuZ3RoID09IDRcclxuIyBcdFx0dHJ5XHJcbiMgXHRcdFx0Y2hlc3MubW92ZSBidWZmZXJcclxuIyBcdFx0XHRzaG93KClcclxuIyBcdFx0XHRsb2dnIGJ1ZmZlciwgJ29rJ1xyXG4jIFx0XHRjYXRjaFxyXG4jIFx0XHRcdGxvZ2cgYnVmZmVyLCdpbnZhbGlkJ1xyXG4jIFx0XHRidWZmZXIgPSAnJ1xyXG4iXX0=
//# sourceURL=c:\github\2023-016-BlindChess\coffee\sketch.coffee